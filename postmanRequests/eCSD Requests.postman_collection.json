{
	"info": {
		"_postman_id": "a42805ed-7eff-4f29-a6c3-a109cc1b0198",
		"name": "eCSD Requests",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "36957513"
	},
	"item": [
		{
			"name": "Launch Patient",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "X-Request-ID",
						"value": "christoph",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"fhirServerURL\": \"http://ecr.drajer.com/secure/fhir-r4/fhir\",\n    \"patientId\":\"e9bd7100-48af-4c69-a557-c13235f72f74\",\n    \"encounterId\": \"1f43c338-0811-415a-b96b-3b5720e6a69a\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://localhost:8081/api/launchPatient",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8081",
					"path": [
						"api",
						"launchPatient"
					]
				}
			},
			"response": []
		},
		{
			"name": "healthCareSettings",
			"request": {
				"method": "PUT",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"authType\": \"SofSystem\",\r\n    \"clientId\": \"RSSyHhPmeEpFJ4gLa96gPBFPQoAmLn\",\r\n    \"clientSecret\": \"U1lVS2g1ZXJFQ3lEQzNGaENhdmxHWU5LWlY5a2V2eFN5SGdieHlJdDZodloxSjhjV1Y=\",\r\n    \"fhirServerBaseURL\": \"http://ecr.drajer.com/secure/fhir-r4/fhir\",\r\n    \"tokenUrl\": \"http://ecr.drajer.com/secure/fhir-r4/token\",\r\n    \"scopes\": \"System/*.read, System/*.write\",\r\n    \"isDirect\": false,\r\n    \"isXdr\": false,\r\n    \"isRestAPI\": true,\r\n    \"fhirAPI\": \"false\",\r\n    \"restApiUrl\": \"http://localhost:8080/api/receiveEicr\",\r\n    \"encounterStartThreshold\": \"3\",\r\n    \"encounterEndThreshold\": \"30\",\r\n    \"createDocRefForResponse\": true,\r\n    \"docRefMimeType\": \"text/xml\",\r\n    \"lastUpdated\": \"2021-06-24T20:27:21.939Z\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://localhost:8081/api/healthcareSettings",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8081",
					"path": [
						"api",
						"healthcareSettings"
					]
				}
			},
			"response": []
		},
		{
			"name": "Receive Notification",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-Request-ID",
						"value": "abcedf",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"resourceType\" : \"Bundle\",\n  \"id\" : \"notification-full-resource\",\n  \"meta\" : {\n      \"lastUpdated\":\"2021-05-07T04:54:11.358+00:00\",\n    \"profile\" : [\n      \"http://hl7.org/fhir/uv/subscriptions-backport/StructureDefinition/backport-subscription-notification\"\n    ]\n  },\n  \"type\" : \"history\",\n  \"timestamp\" : \"2020-05-29T11:44:13.1882432-05:00\",\n  \"entry\" : [\n    {\n      \"fullUrl\" : \"urn:uuid:b21e4fae-ce73-45cb-8e37-1e203362b2ae\",\n      \"resource\" : {\n        \"resourceType\" : \"Parameters\",\n        \"id\" : \"b21e4fae-ce73-45cb-8e37-1e203362b2ae\",\n        \"meta\" : {\n            \"lastUpdated\":\"2021-05-07T04:54:11.358+00:00\",\n          \"profile\" : [\n            \"http://hl7.org/fhir/uv/subscriptions-backport/StructureDefinition/backport-subscriptionstatus\"\n          ]\n        },\n        \"parameter\" : [\n          {\n            \"name\" : \"subscription\",\n            \"valueReference\" : {\n              \"reference\" : \"http://ecr.drajer.com/secure/fhir-r4/fhir/Subscription/encounter-end\"\n            }\n          },\n          {\n            \"name\" : \"topic\",\n            \"valueCanonical\" : \"http://hl7.org/fhir/us/medmorph/SubscriptionTopic/encounter-end\"\n          },\n          {\n            \"name\" : \"type\",\n            \"valueCode\" : \"event-notification\"\n          },\n          {\n            \"name\" : \"status\",\n            \"valueCode\" : \"active\"\n          },\n          {\n            \"name\" : \"events-since-subscription-start\",\n            \"valueUnsignedInt\" : 310\n          },\n          {\n            \"name\" : \"events-in-notification\",\n            \"valueUnsignedInt\" : 1\n          }\n        ]\n      },\n      \"request\" : {\n        \"method\" : \"GET\",\n        \"url\" : \"https://example.org/fhir/r4/Subscription/admission/$status\"\n      },\n      \"response\" : {\n        \"status\" : \"200\"\n      }\n    },\n    {\n      \"fullUrl\" : \"http://ecr.drajer.com/secure/fhir-r4/fhir/Encounter/1f43c338-0811-415a-b96b-3b5720e6a69a\",\n      \"resource\" : {\n  \"resourceType\": \"Encounter\",\n  \"id\": \"1f43c338-0811-415a-b96b-3b5720e6a69a\",\n  \"status\": \"finished\",\n  \"type\": [\n      {\n          \"coding\": [\n              {\n                  \"system\": \"http://www.ama-assn.org/go/cpt\",\n                  \"code\": \"99202\",\n                  \"display\": \"Office or other outpatient visit for the evaluation and management of a new patient, which requires a medically appropriate history and/or examination and straightforward medical decision making. When using time for code selection, 15-29 minutes of total time is spent on the date of the encounter.\"\n              }\n          ]\n      }\n  ],\n  \"subject\": {\n      \"reference\": \"Patient/e9bd7100-48af-4c69-a557-c13235f72f74\",\n          \"display\" : \"Example Patient\"\n  },\n  \"period\": {\n      \"start\": \"2019-01-16T00:00:00+00:00\",\n      \"end\": \"2019-01-20T00:00:00+00:00\"\n  }\n},\n      \"request\" : {\n        \"method\" : \"POST\",\n        \"url\" : \"Encounter\"\n      },\n      \"response\" : {\n        \"status\" : \"201\"\n      }\n    }\n  ]\n}\n",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://localhost:8081/api/receive-notification",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8081",
					"path": [
						"api",
						"receive-notification"
					]
				}
			},
			"response": []
		}
	]
}